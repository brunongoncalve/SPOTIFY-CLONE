<!DOCTYPE html>
<html>
<head>
    <title>Spotify</title>
    <meta charset="utf-8">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="css/style.css">
</head>
<body>

<div class="sidebar">
    <div class="sidebar-wraper">
        <div class="sidebar__logo">
            <img src="img/logo.png"/>
        </div>

        <div class="sidebar__menu">
            <a class="sidebar__menu_selecionado" href="#"><i class="fas fa-home"></i> Inicio</a>
            <a href="#"><i class="fas fa-search"></i> Buscar</a>
            <a href="#"><i class="fas fa-database"></i> Biblioteca</a>
        </div>

        <div class="sidebar__menu">
            <p class="sidebar__menu__title">Playlists</p>

            <div class="sidebar__menu__item">
                <div class="sidebar__menu__item__componete">
                    +
                </div>
                <span>Criar Playlist</span>
            </div>

            <div class="sidebar__menu__item">
                <img src="img/musicas_curtidas.png">
                <span>Musicas curidas</span>
            </div>
        </div>

        <div class="sidebar__playlists">
            <a href="#">90's</a>
            <a href="#">MyStar</a>
        </div>
    </div>
</div>


<div class="main">
    <div class="main-wrape">
        <div class="main__row">
            <div class="main__row__title"><h2>Paradas</h2></div>

            <div class="main__col">
                <img src="img/top50.png"/>
                <h3>As 50 mais tocadas</h3>
                <p>Descrição musicas</p>
            </div>
            <div class="main__col">
                <img src="img/top50global.png"/>
                <h3>Global 50 mais tocada</h3>
                <p>Funk Music</p>
            </div>
            <div class="main__col">
                <img src="img/top50.png"/>
                <h3>As 50 mais tocadas</h3>
                <p>Descrição musicas</p>
            </div>
            <div class="main__col">
                <img src="img/top50global.png"/>
                <h3>As 50 mais tocadas</h3>
                <p>Descrição musicas</p>
            </div>
            <div class="main__col">
                <img src="img/top50.png"/>
                <h3>As 50 mais tocadas</h3>
                <p>Descrição musicas</p>
            </div>
            <div class="main__col">
                <img src="img/top50global.png"/>
                <h3>As 50 mais tocadas</h3>
                <p>Descrição musicas</p>
            </div>
            <div class="main__col">
                <img src="img/top50.png"/>
                <h3>As 50 mais tocadas</h3>
                <p>Descrição musicas</p>
            </div>
            <div class="main__col">
                <img src="img/top50global.png"/>
                <h3>As 50 mais tocadas</h3>
                <p>Descrição musicas</p>
            </div>
            <div class="main__col">
                <img src="img/top50.png"/>
                <h3>As 50 mais tocadas</h3>
                <p>Descrição musicas</p>
            </div>
        </div>

        <div class="main__row">
            <div class="main__row__title"><h2>Meus Albuns</h2></div>

            <div class="main__col" data-image="img/racionais.jpg" data-artist="Racionais MC's" data-song="Nada Como um Dia Após o Outro Dia" data-file="assets/music.mp3">
                <img src="img/racionais.jpg"/>
                <h3>Racionais MC's</h3>
                <p>Nada Como um Dia Após o Outro Dia</p>
            </div>
            <div class="main__col" data-image="img/tory.jpg" data-artist="Tory Lanez" data-song="Sorry" data-file="assets/music.mp3">
                <img src="img/tory.jpg"/>
                <h3>Tory Lanez</h3>
                <p>Sorry</p>
            </div>
        </div>

    </div>
</div>

<div class="player">
    <div class="player__artist">

    </div>
    <div class="player__control">
        <div class="player__control__buttons">
            <a href="#"><i class="fas fa-backward"></i></a>
            <a style="display: none;" id="pauseBtn" href="#"><i class="far fa-pause-circle"></i></a>
            <a id="playerBtn" href="#"><i class="far fa-play-circle"></i></a>
            <a href="#"><i class="fas fa-forward"></i></a>
        </div>
        <div class="player__control__progress">
            <div style="width: 90%;"class="player__control__progress_2"></div>
        </div>

    </div>
</div>

<audio id="audioplayer" style="position: absolute;left: 0;top: 0;z-index: -999;opacity: 0" controls=""></audio>

<script src="js/all.min.js"></script>

<script>

    var audioPlayer = document.getElementById('audioplayer');
    var loaded = false;

    var playerBtn = document.getElementById('playerBtn');
    var pauseBtn = document.getElementById('pauseBtn');

    pauseBtn.addEventListener('click', (e) => {
        e.preventDefault();

        playerBtn.style.display = "inline";
        pauseBtn.style.display = "none";
        audioplayer.pause();
        return false;
    });

    playerBtn.addEventListener('click', (e) => {
        e.preventDefault();

        playerBtn.style.display = "none";
        pauseBtn.style.display = "inline";
        audioPlayer.play();
        return false;
    });

    const playSong = (file) => {
        if(loaded == false) {
            audioPlayer.innerHTML = `<source src="`+file+`" type="audio/mp3"/>`;
            loaded = true;
        }

        audioPlayer.play();

        playerBtn.style.display = "none";
        pauseBtn.style.display = "inline";
    }

    document.querySelectorAll('.main__col').forEach(item => {
        item.addEventListener('click', event => {
            let image = item.getAttribute('data-image');
            let artist = item.getAttribute('data-artist');
            let song = item.getAttribute('data-song');
            let file = item.getAttribute('data-file');

            let playerArtistComponent = document.getElementsByClassName('player__artist');

            playerArtistComponent[0].innerHTML = `
                <img src="`+image+`"/>
                <h3>`+artist+`<br/><span>`+song+`</span></h3>
            `;

            playSong(file);
        });
    });
    
</script>

</body>    
</html>